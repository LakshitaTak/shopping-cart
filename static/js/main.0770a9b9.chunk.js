(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{15:function(e,t,a){e.exports=a(30)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var c=a(0),l=a.n(c),r=a(12),n=a.n(r),i=a(2),m=a(4);const o=Object(m.b)({name:"route",initialState:"home",reducers:{route(e,t){let{payload:a}=t;return"home"==a?"home":"cart"}}}),{route:u}=o.actions;var s=o.reducer;const d=Object(m.b)({name:"product",initialState:[],reducers:{set(e,t){let{payload:a}=t;e.push(a)},replace(e,t){let{payload:a}=t;return a},remove(e,t){let{payload:a}=t;e.splice(a,1)}}}),{remove:p,set:E,replace:h}=d.actions;var b=d.reducer;const f=Object(m.b)({name:"cart",initialState:[],reducers:{set(e,t){let{payload:a}=t;e.push(a)},remove(e,t){let{payload:a}=t;e.splice(a,1)},reset:()=>[]}}),{remove:v,set:g,reset:j}=f.actions;var O=f.reducer;const y=Object(m.a)({reducer:{route:s,product:b,cart:O}});a(27);function N(e){let{image:t,id:a,index:c,title:r,price:n,isAdded:i,onClick:m}=e;return l.a.createElement("li",null,l.a.createElement("div",{className:"image"},l.a.createElement("img",{src:t,alt:"Product"})),l.a.createElement("h5",null,"Title: ",r),l.a.createElement("p",null,"Price: $",n),l.a.createElement("button",{type:"button",onClick:()=>m(a,c)},i?"Remove from Cart":"Add to Cart"))}function k(e){let{active:t}=e;return t?l.a.createElement("div",{className:"loader"},l.a.createElement("span",null)):null}a(28);function C(){const[e,t]=Object(c.useState)(!0),[a,r]=Object(c.useState)(""),n=Object(i.c)(e=>e.product),m=Object(i.c)(e=>e.cart),o=Object(i.b)(),u=(e,t)=>{o(g(e)),alert("Product '"+n.filter(t=>t.id==e)[0].title+"' is added in your cart.")};return Object(c.useEffect)(()=>{n.length>0?t(!1):fetch("https://dummyjson.com/products").then(e=>e.json()).then(e=>{o(h(e.products))}).catch(e=>r("An error occured: "+e.message)).finally(()=>t(!1))},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"main-heading"},"All Items"),a&&l.a.createElement("p",{className:"error"},a),l.a.createElement(k,{active:e}),l.a.createElement("div",{className:"products"},l.a.createElement("ul",null,n.filter(e=>!m.includes(e.id)).map((e,t)=>l.a.createElement(N,{key:e.id,id:e.id,index:t,image:e.thumbnail,title:e.title,isAdded:!1,price:e.price,onClick:u})))))}a(29);function S(){const[e,t]=Object(c.useState)([]),a=Object(i.c)(e=>e.product),r=Object(i.c)(e=>e.cart),n=Object(i.b)(),m=(a,c)=>{n(v(r.findIndex(e=>e==a))),t(e.filter(e=>e.id!=a)),alert("Product '"+e[c].title+"' is removed from your cart.")};return Object(c.useEffect)(()=>{t(a.filter(e=>r.includes(e.id)))},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"main-heading"},"Cart Page"),0==r.length&&l.a.createElement("p",{className:"error"},"Your cart is empty"),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"inner"},l.a.createElement("div",{className:"products"},l.a.createElement("ul",null,e.map((e,t)=>l.a.createElement(N,{key:e.id,id:e.id,index:t,image:e.thumbnail,title:e.title,isAdded:!0,price:e.price,onClick:m})))),l.a.createElement("div",{className:"price-card"},l.a.createElement("h3",null,"Checkout List"),l.a.createElement("ul",null,e.map(e=>l.a.createElement("li",{key:e.id},l.a.createElement("b",null,e.title),l.a.createElement("span",null,"$",e.price))),l.a.createElement("li",null,l.a.createElement("b",null,"Total"),l.a.createElement("span",null,"$",e.reduce((e,t)=>e+t.price,0)))),l.a.createElement("button",{type:"button",onClick:()=>{n(j()),t([]),alert("All items have been checkout in $"+e.reduce((e,t)=>e+t.price,0))}},"Click to checkout")))))}function A(){const e=Object(i.c)(e=>e.route),t=Object(i.b)(),a=e=>{e.preventDefault(),t(u(e.target.dataset.route))};return l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"inner"},l.a.createElement("a",{href:"/",className:"logo"},l.a.createElement("span",null,"Shopping Cart")),l.a.createElement("nav",{className:"navbar"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{onClick:a,"data-route":"home",href:"/",className:"home"==e?"active":""},"Home Page")),l.a.createElement("li",null,l.a.createElement("a",{onClick:a,"data-route":"cart",href:"/cart",className:"home"!=e?"active":""},"Cart Page"))))))}function P(){return"home"==Object(i.c)(e=>e.route)?l.a.createElement(C,null):l.a.createElement(S,null)}n.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,{store:y},l.a.createElement(A,null),l.a.createElement(P,null))))}},[[15,1,2]]]);
//# sourceMappingURL=main.0770a9b9.chunk.js.map